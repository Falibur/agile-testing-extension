<!--
 * Copyright (c) 2009 The Chromium Authors. All rights reserved.  Use of this
 * source code is governed by a BSD-style license that can be found in the
 * LICENSE file.
-->
<html>
<head>

</head>
<body>
<script>

  /**
  * Receive messages from content_script, and then decide what to do next
  */
  chrome.tabs.onActiveChanged.addListener(function(tabId) {
    chrome.tabs.sendRequest(tabId, {action: "setBadge"},function(response){
      if(response.setBadge){
        // chrome.browserAction.setIcon({path: "assets/icon48_selected.png", tabId: tabId})
        
        chrome.browserAction.setBadgeText({text: "1", tabId: tabId})
        chrome.browserAction.setBadgeBackgroundColor({color: [0, 64, 255, 244], tabId: tabId})
      }
    });
  });
  
  chrome.tabs.onUpdated.addListener(function(tabId) {
    chrome.tabs.sendRequest(tabId, {action: "setBadge"},function(response){
      if(response.setBadge){
        // chrome.browserAction.setIcon({path: "assets/icon48_selected.png", tabId: tabId})
        chrome.browserAction.setBadgeText({text: "1", tabId: tabId})
        chrome.browserAction.setBadgeBackgroundColor({color: [0, 64, 255, 244], tabId: tabId})
      }
    });
  });
  

 
</script>
</body>
</html>
